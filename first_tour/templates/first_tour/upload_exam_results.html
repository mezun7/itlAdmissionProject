{% extends "layout/base.html" %}
{% load static %}

{% load bootstrap4 %}

{% block title %}Exam Results Upload{% endblock %}

{% block content %}
    <div>
        <h3 class="ml-3">Загрузка результатов участников из файла</h3>
        {% if msg %} {% autoescape off %} {{ msg }} {% endautoescape %} {% endif %}
        <div class="col-6 m-3">
            <form  method="post" enctype="multipart/form-data" id="upload_result">
                <p class="alert alert-info">
                    Имя файла должен содержать порядковый номер тура (tour_order), других чисел не должно быть<br>
                    Пример имени файла: tour1.scv, тур2.csv, tour_2.csv.
                    Разделитель в csv файле "," - запятая, кодировка utf-8.
                </p>
                {% csrf_token %}
                {{ form.as_p }}
                <div class="form-group">
                    <input type="submit" value="Загрузить" id="submit">
                </div>
            </form>
        </div>
    </div>
{% endblock %}
{% block script_buttom %}
    <script>
        {#file_input = document.getElementById('id_files');#}
        {#file_input.setAttribute('accept', '.scv');#}
        submit_btn = document.getElementById('submit')
        submit_btn.classList.add('btn', 'btn-secondary')
        element = document.querySelector('.errorlist')
        if (element) {
            element.classList.add('alert', 'alert-warning');
            setTimeout(() => {
                element.remove()
            }, 5000)
        }
    </script>
{% endblock %}
